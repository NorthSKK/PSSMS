<!DOCTYPE html>
<html lang="th">
<head>
  <base target="_top">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <?!= include('Styles'); ?>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/th.js"></script>
</head>
<body>

  <div id="loader" class="loader-container">
    <div class="spinner-border text-primary" role="status"></div>
</div>

<div id="login-section" class="d-none">
    <?!= include('Login'); ?>
</div>

  <div id="main-app" class="wrapper d-none">
    <nav id="sidebar" class="bg-dark text-white shadow">
      <div class="sidebar-header text-center py-3 px-2 border-bottom border-secondary" style="border-opacity: 0.1;">
        
        <div class="mb-2">
          <div class="d-flex justify-content-center align-items-center bg-white rounded-circle shadow-sm mx-auto border border-2 border-primary" 
               style="width: 45px; height: 45px;">
            <i class="fas fa-school text-primary" style="font-size: 1.2rem;"></i>
          </div>
        </div>
        
        <h5 class="text-white fw-bold mb-1" style="letter-spacing: 1px;">PSSMS</h5>
        <div class="text-info fw-bold mb-1" style="font-size: 0.85rem;">โรงเรียนภูพระบาทวิทยา</div>
        
        <div class="text-secondary opacity-75" style="font-size: 0.65rem; line-height: 1.2;">
          Phu Pha Bat School <br> Smart Management System
        </div>
      </div>
      <ul class="list-unstyled components p-2" id="menu-list">
        </ul>
      <div class="p-3">
        <button class="btn btn-outline-danger btn-sm w-100" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i> ออกจากระบบ
        </button>
      </div>
    </nav>

    <div id="content" class="w-100">
      <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm px-4">
        <button type="button" id="sidebarCollapse" class="btn btn-primary btn-sm me-3">
          <i class="fas fa-bars"></i>
        </button>
        
        <div class="ms-auto" id="user-display"></div>
        
      </nav>

      <div id="page-content" class="container-fluid p-4">
        </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <?!= include('Scripts'); ?>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>